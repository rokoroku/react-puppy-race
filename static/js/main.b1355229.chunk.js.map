{"version":3,"sources":["PuppyRace/Animal/dog_standing.gif","PuppyRace/Animal/dog_running.gif","PuppyRace/Animal/dog_loss.gif","PuppyRace/Animal/cat_standing.gif","PuppyRace/Animal/cat_running.gif","PuppyRace/Animal/cat_loss.gif","react-logo.svg","registerServiceWorker.js","PuppyRace/constants.js","PuppyRace/Animal/Animal.js","PuppyRace/RaceTrack/Lane.js","PuppyRace/PuppyRaceContext.js","PuppyRace/RaceTrack/RaceTrack.js","PuppyRace/Settings/Settings.js","PuppyRace/Controls/Controls.js","PuppyRace/PuppyRace.js","index.js"],"names":["module","exports","__webpack_require__","p","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","GAME_STATUS","READY","START","PAUSE","END","ANIMAL_TYPES","ANIMAL_STATUS","STANDING","RUNNING","LOSS","GAME_SPEED","NORMAL","FAST","ANIMAL_SPRITES","dog","_dog","Object","defineProperty","require","cat","_cat","Animal","_React$Component","_getPrototypeOf2","_this","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","imgRef","React","createRef","inherits","createClass","key","value","_this$props","props","type","status","style","image","react_default","a","createElement","src","alt","className","ref","Component","defaultProps","color","progress","Lane","animalRef","imageElement","current","left","offsetLeft","clientWidth","right","rank","animal","name","finishedAt","Animal_Animal_Animal","assign","marginLeft","children","getRankStyle","formatRank","PuppyRaceContext","createContext","RaceTrack","transitionTime","tickInterval","Consumer","_ref","getTransitionStyle","animals","map","index","Lane_Lane","INITIAL_VALUES","Settings","initialValues","restoreSettings","stored","localStorage","getItem","JSON","parse","values","setItem","stringify","_this2","actions","react_final_form_es","onSubmit","noop","mutators","arrayMutators","render","_ref2","handleSubmit","disabled","Fragment","subscription","onChange","_ref3","saveSettings","setState","display","flexDirection","margin","react_final_form_arrays_es","_ref4","fields","component","padding","placeholder","onClick","remove","push","random","Controls","isPlaying","isFastMode","pauseGame","startGame","setSpeed","resetGame","PuppyRace","intervalTimer","callback","clearInterval","setInterval","onTick","objectSpread","recoverAt","Number","Date","now","clamp","sorted","sort","lValue","rValue","forEach","findIndex","every","Provider","RaceTrack_RaceTrack","Settings_Settings_Settings","Controls_Controls_Controls","ReactDOM","class","PuppyRace_PuppyRace","href","document","getElementById","URL","process","origin","addEventListener","fetch","response","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"qIAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6ICAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oHCUlCC,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTI,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,WAK1BC,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrBC,MAAM,SAAAC,GACLH,QAAQG,MAAM,4CAA6CA,+EC/EpDC,EAAc,CACzBC,MAAO,EACPC,MAAO,EACPC,MAAO,EACPC,IAAK,GAGMC,EACN,MADMA,EAEN,MAGMC,EAAgB,CAC3BC,SAAU,EACVC,QAAS,EACTC,KAAM,GAGKC,EAAa,CACxBC,OAAQ,IACRC,KAAM,KCfFC,SAAiB,CACrBC,KAAGC,EAAA,GAAAC,OAAAC,EAAA,EAAAD,CAAAD,EACAT,EAAcC,SAAWW,EAAQ,KADjCF,OAAAC,EAAA,EAAAD,CAAAD,EAEAT,EAAcE,QAAUU,EAAQ,KAFhCF,OAAAC,EAAA,EAAAD,CAAAD,EAGAT,EAAcG,KAAOS,EAAQ,KAH7BH,GAKHI,KAAGC,EAAA,GAAAJ,OAAAC,EAAA,EAAAD,CAAAI,EACAd,EAAcC,SAAWW,EAAQ,KADjCF,OAAAC,EAAA,EAAAD,CAAAI,EAEAd,EAAcE,QAAUU,EAAQ,KAFhCF,OAAAC,EAAA,EAAAD,CAAAI,EAGAd,EAAcG,KAAOS,EAAQ,KAH7BE,KAOQC,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAR,OAAAS,EAAA,EAAAT,CAAAU,KAAAL,GAAA,QAAAM,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAR,EAAAR,OAAAiB,EAAA,EAAAjB,CAAAU,MAAAH,EAAAP,OAAAkB,EAAA,EAAAlB,CAAAK,IAAAc,KAAAC,MAAAb,EAAA,CAAAG,MAAAW,OAAAP,MAiBEQ,OAASC,IAAMC,YAjBjBhB,EAAA,OAAAR,OAAAyB,EAAA,EAAAzB,CAAAK,EAAAC,GAAAN,OAAA0B,EAAA,EAAA1B,CAAAK,EAAA,EAAAsB,IAAA,SAAAC,MAAA,WAmBW,IAAAC,EACyBnB,KAAKoB,MAA7BC,EADDF,EACCE,KAAMC,EADPH,EACOG,OAAQC,EADfJ,EACeI,MAChBC,EAAQrC,EAAekC,GAAMC,GACnC,OACEG,EAAAC,EAAAC,cAAA,OACEC,IAAKJ,EACLK,IAAKR,EACLS,UAAS,UAAAnB,OAAYU,GACrBE,MAAOA,EACPQ,IAAK/B,KAAKY,aA5BlBjB,EAAA,CAA4BkB,IAAMmB,WAArBrC,EAUJsC,aAAe,CACpBZ,KAAM1C,EACNuD,MAAO,UACPC,SAAU,EACVb,OAAQ1C,EAAcC,oBC3BbuD,EAAb,SAAAxC,GAAA,SAAAwC,IAAA,IAAAvC,EAAAC,EAAAR,OAAAS,EAAA,EAAAT,CAAAU,KAAAoC,GAAA,QAAAnC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAR,EAAAR,OAAAiB,EAAA,EAAAjB,CAAAU,MAAAH,EAAAP,OAAAkB,EAAA,EAAAlB,CAAA8C,IAAA3B,KAAAC,MAAAb,EAAA,CAAAG,MAAAW,OAAAP,MAMEiC,UAAYxB,IAAMC,YANpBhB,EAAA,OAAAR,OAAAyB,EAAA,EAAAzB,CAAA8C,EAAAxC,GAAAN,OAAA0B,EAAA,EAAA1B,CAAA8C,EAAA,EAAAnB,IAAA,eAAAC,MAAA,WASI,IAAMoB,EACJtC,KAAKqC,UAAUE,SACfvC,KAAKqC,UAAUE,QAAQ3B,QACvBZ,KAAKqC,UAAUE,QAAQ3B,OAAO2B,QAChC,OAAID,EACK,CAAEE,KAAMF,EAAaG,WAAaH,EAAaI,YAAc,GAE7D,CAAEC,MAAO,MAhBtB,CAAA1B,IAAA,aAAAC,MAAA,SAoBa0B,GAQT,OANEA,EAAOA,GADI,IAATA,EACa,kBACG,IAATA,EACM,KAEA,OA1BrB,CAAA3B,IAAA,SAAAC,MAAA,WA+BW,IACC2B,EAAW7C,KAAKoB,MAAhByB,OACAD,EAAqCC,EAArCD,KAAME,EAA+BD,EAA/BC,KAAMC,EAAyBF,EAAzBE,WAAYZ,EAAaU,EAAbV,SAChC,OACEV,EAAAC,EAAAC,cAAA,OAAKG,UAAS,QAAAnB,OAAUoC,EAAa,WAAa,KAChDtB,EAAAC,EAAAC,cAACqB,EAAD1D,OAAA2D,OAAA,GACMJ,EADN,CAEEtB,MAAO,CAAE2B,WAAU,GAAAvC,OAAKwB,EAAL,MACnBJ,IAAK/B,KAAKqC,aAEXS,GAAQrB,EAAAC,EAAAC,cAAA,QAAMG,UAAU,YAAYqB,SAAUL,IAC9CF,GACCnB,EAAAC,EAAAC,cAAA,QACEG,UAAU,YACVP,MAAOvB,KAAKoD,eACZD,SAAUnD,KAAKqD,WAAWT,UA9CtCR,EAAA,CAA0BvB,IAAMmB,WCHnBsB,EAAmBzC,IAAM0C,gBCEzBC,EAAb,SAAA5D,GAAA,SAAA4D,IAAA,OAAAlE,OAAAS,EAAA,EAAAT,CAAAU,KAAAwD,GAAAlE,OAAAiB,EAAA,EAAAjB,CAAAU,KAAAV,OAAAkB,EAAA,EAAAlB,CAAAkE,GAAA9C,MAAAV,KAAAE,YAAA,OAAAZ,OAAAyB,EAAA,EAAAzB,CAAAkE,EAAA5D,GAAAN,OAAA0B,EAAA,EAAA1B,CAAAkE,EAAA,EAAAvC,IAAA,qBAAAC,MAAA,SACqBlD,GACjB,IAAMyF,EAAiBzF,EAAM0F,aAAe,IAC5C,OACEjC,EAAAC,EAAAC,cAAA,sDAAAhB,OAC4C8C,EAD5C,WAJN,CAAAxC,IAAA,SAAAC,MAAA,WAUW,IAAApB,EAAAE,KACP,OACEyB,EAAAC,EAAAC,cAAC2B,EAAiBK,SAAlB,KACG,SAAAC,GAAA,IAAG5F,EAAH4F,EAAG5F,MAAH,OACCyD,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACZhC,EAAK+D,mBAAmB7F,GACxBA,EAAM8F,QAAQC,IAAI,SAAClB,EAAQmB,GAAT,OACjBvC,EAAAC,EAAAC,cAACsC,EAAD,CAAMhD,IAAK+C,EAAOA,MAAOA,EAAOnB,OAAQA,aAjBtDW,EAAA,CAA+B3C,IAAMmB,0CCM/BkC,SAAiB,CACrBJ,QAAS,CACP,CACEhB,KAAM,QACNzB,KAAM1C,EACN2C,OAAQ1C,EAAcC,SACtBsD,SAAU,GAEZ,CACEW,KAAM,QACNzB,KAAM1C,EACN2C,OAAQ1C,EAAcC,SACtBsD,SAAU,MAKHgC,EAAb,SAAAvE,GAAA,SAAAuE,IAAA,IAAAtE,EAAAC,EAAAR,OAAAS,EAAA,EAAAT,CAAAU,KAAAmE,GAAA,QAAAlE,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAR,EAAAR,OAAAiB,EAAA,EAAAjB,CAAAU,MAAAH,EAAAP,OAAAkB,EAAA,EAAAlB,CAAA6E,IAAA1D,KAAAC,MAAAb,EAAA,CAAAG,MAAAW,OAAAP,MACEpC,MAAQ,CAAEoG,cAAetE,EAAKuE,mBADhCvE,EAAA,OAAAR,OAAAyB,EAAA,EAAAzB,CAAA6E,EAAAvE,GAAAN,OAAA0B,EAAA,EAAA1B,CAAA6E,EAAA,EAAAlD,IAAA,kBAAAC,MAAA,WAII,IACE,IAAMoD,EAASC,aAAaC,QAvBA,YAwB5B,GAAIF,EACF,OAAOG,KAAKC,MAAMJ,GAEpB,MAAOjG,GACPH,QAAQG,MAAMA,GAEhB,OAAO6F,IAZX,CAAAjD,IAAA,eAAAC,MAAA,SAeeyD,GACX,IACEJ,aAAaK,QAnCe,WAmCoBH,KAAKI,UAAUF,IAC/D,MAAOtG,GACPH,QAAQG,MAAMA,MAnBpB,CAAA4C,IAAA,SAAAC,MAAA,WAuBW,IAAA4D,EAAA9E,KACP,OACEyB,EAAAC,EAAAC,cAAC2B,EAAiBK,SAAlB,KACG,SAAAC,GAAA,IAAG5F,EAAH4F,EAAG5F,MAAO+G,EAAVnB,EAAUmB,QAAV,OACCtD,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACEC,SAAUC,IACVC,SAAUC,IACVhB,cAAeU,EAAK9G,MAAMoG,cAC1BiB,OAAQ,SAAAC,GAAwC,IAArCC,EAAqCD,EAArCC,aAAcJ,EAAuBG,EAAvBH,SAAUR,EAAaW,EAAbX,OAC3Ba,EAAWxH,EAAMsD,SAAWhD,EAAYC,MAC9C,OACEkD,EAAAC,EAAAC,cAACF,EAAAC,EAAM+D,SAAP,KACEhE,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACEU,aAAc,CAAEf,QAAQ,GACxBgB,SAAU,SAAAC,GAAgB,IAAbjB,EAAaiB,EAAbjB,OACXG,EAAKe,aAAalB,GAClBI,EAAQe,SAASnB,MAGrBlD,EAAAC,EAAAC,cAAA,QACEV,IAAI,OACJM,MAAO,CACLwE,QAAS,OACTC,cAAe,SACfC,OAAQ,QAEVhB,SAAUM,GAEV9D,EAAAC,EAAAC,cAACuE,EAAA,EAAD,CAAYpD,KAAK,WACd,SAAAqD,GAAA,IAAGC,EAAHD,EAAGC,OAAH,OACCA,EAAOrC,IAAI,SAACjB,EAAMkB,GAAP,OACTvC,EAAAC,EAAAC,cAAA,OACEG,UAAS,8BAAAnB,OACP6E,EAAW,WAAa,IAE1BvE,IAAK+C,GAELvC,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACElC,KAAI,GAAAnC,OAAKmC,EAAL,SACJuD,UAAU,SACVb,SAAUA,EACV1D,UAAU,gCACVP,MAAO,CAAE+E,QAAS,QAElB7E,EAAAC,EAAAC,cAAA,UACET,MAAOvC,EACPwE,SAAS,iBAEX1B,EAAAC,EAAAC,cAAA,UACET,MAAOvC,EACPwE,SAAS,kBAGb1B,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACElC,KAAI,GAAAnC,OAAKmC,EAAL,SACJuD,UAAU,QACVE,YAAY,OACZf,SAAUA,IAEZ/D,EAAAC,EAAAC,cAAA,UACE6E,QAAS,kBAAMJ,EAAOK,OAAOzC,IAC7BlC,UAAU,iBACV0D,SAAUA,EACVrC,SAAU1B,EAAAC,EAAAC,cAAA,KAAGG,UAAU,0BAMjCL,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YACbL,EAAAC,EAAAC,cAAA,UACEG,UAAU,uBACV0E,QAAS,kBACPrB,EAASuB,KAAK,UAAW,CACvBrF,KAAM,CAAC1C,EAAkBA,GACvBgI,YAAO,IAET7D,KAAM6B,EAAOb,QAAQ3D,OAAS,KAGlCqF,SAAUA,EACVrC,SAAU1B,EAAAC,EAAAC,cAAA,KAAGG,UAAU,+BAzGjDqC,EAAA,CAA8BtD,IAAMmB,WCtBvB4E,SAAb,SAAAhH,GAAA,SAAAgH,IAAA,OAAAtH,OAAAS,EAAA,EAAAT,CAAAU,KAAA4G,GAAAtH,OAAAiB,EAAA,EAAAjB,CAAAU,KAAAV,OAAAkB,EAAA,EAAAlB,CAAAsH,GAAAlG,MAAAV,KAAAE,YAAA,OAAAZ,OAAAyB,EAAA,EAAAzB,CAAAsH,EAAAhH,GAAAN,OAAA0B,EAAA,EAAA1B,CAAAsH,EAAA,EAAA3F,IAAA,SAAAC,MAAA,WAEI,OACEO,EAAAC,EAAAC,cAAC2B,EAAiBK,SAAlB,KACG,SAAAC,GAAwB,IAArB5F,EAAqB4F,EAArB5F,MAAO+G,EAAcnB,EAAdmB,QACH8B,EAAY7I,EAAMsD,SAAWhD,EAAYE,MACzCsI,EAAa9I,EAAM0F,eAAiB1E,EAAWE,KACrD,OACEuC,EAAAC,EAAAC,cAAA,OAAKG,UAAU,qBACbL,EAAAC,EAAAC,cAAA,UACEG,UAAU,iBACV0E,QAAS,kBACNK,EAAkC9B,EAAQgC,YAA9BhC,EAAQiC,aAEvBxB,SAAUxH,EAAMsD,SAAWhD,EAAYI,KAEvC+C,EAAAC,EAAAC,cAAA,KAAGG,UAAS,WAAAnB,OAAckG,EAAqB,QAAT,UACpCA,EAAsB,QAAV,SAEhBpF,EAAAC,EAAAC,cAAA,UACEG,UAAS,+BAAAnB,OACPmG,EAAa,SAAW,IAE1BN,QAAS,kBACPzB,EAAQkC,SACNH,EAAa9H,EAAWC,OAASD,EAAWE,OAGhDsG,SAAUxH,EAAMsD,SAAWhD,EAAYE,OAEvCiD,EAAAC,EAAAC,cAAA,KAAGG,UAAS,0BAEdL,EAAAC,EAAAC,cAAA,UACEG,UAAU,kBACV0E,QAAS,kBAAMzB,EAAQmC,aACvB1B,SACExH,EAAMsD,SAAWhD,EAAYE,OAC7BR,EAAMsD,SAAWhD,EAAYC,OAG/BkD,EAAAC,EAAAC,cAAA,KAAGG,UAAS,oBARd,gBAhCd8E,EAAA,CAA8B/F,IAAMmB,YCGvBmF,EAAb,SAAAvH,GAAA,SAAAuH,IAAA,IAAAtH,EAAAC,EAAAR,OAAAS,EAAA,EAAAT,CAAAU,KAAAmH,GAAA,QAAAlH,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAR,EAAAR,OAAAiB,EAAA,EAAAjB,CAAAU,MAAAH,EAAAP,OAAAkB,EAAA,EAAAlB,CAAA6H,IAAA1G,KAAAC,MAAAb,EAAA,CAAAG,MAAAW,OAAAP,MACEpC,MAAQ,CACN8F,QAAS,GACTxC,OAAQhD,EAAYC,MACpBmF,aAAc1E,EAAWC,QAJ7Ba,EAOEsH,cAAgB,KAPlBtH,EASEiF,QAAU,CACRe,SAAU,SAAC9H,EAAOqJ,GAAR,OAAqBvH,EAAKgG,SAAS9H,EAAOqJ,IACpDJ,SAAU,SAACvD,GACLA,IAAiB5D,EAAK9B,MAAM0F,eAC9B4D,cAAcxH,EAAKsH,eACnBtH,EAAKgG,SAAS,CAAEpC,gBAAgB,WAC9B5D,EAAKsH,cAAgBG,YAAYzH,EAAK0H,OAAQ9D,OAIpDsD,UAAW,kBACTlH,EAAK9B,MAAMsD,SAAWhD,EAAYE,OAClCsB,EAAKgG,SAAS,CAAExE,OAAQhD,EAAYE,OAAS,WAC3CsB,EAAKsH,cAAgBG,YAAYzH,EAAK0H,OAAQ1H,EAAK9B,MAAM0F,iBAE7DqD,UAAW,WACTO,cAAcxH,EAAKsH,eACftH,EAAK9B,MAAMsD,SAAWhD,EAAYG,OACpCqB,EAAKgG,SAAS,CAAExE,OAAQhD,EAAYG,SAGxCyI,UAAW,WACTI,cAAcxH,EAAKsH,eACnBtH,EAAKgG,SAAS,CACZxE,OAAQhD,EAAYC,MACpBuF,QAAShE,EAAK9B,MAAM8F,QAAQC,IAAI,SAAClB,GAAD,OAAAvD,OAAAmI,EAAA,EAAAnI,CAAA,GAC3BuD,EAD2B,CAE9BvB,OAAQ1C,EAAcC,SACtBsD,SAAU,EACVuF,UAAW,KACX3E,WAAY,KACZH,KAAM,aAxChB9C,EA8CE0H,OAAS,WACP,IAAMV,EAAahH,EAAK9B,MAAM0F,eAAiB1E,EAAWE,KAE1D,GADkBY,EAAK9B,MAAMsD,SAAWhD,EAAYE,MACrC,CACb,IAAMsF,EAAUhE,EAAK9B,MAAM8F,QAAQC,IAAI,SAAClB,EAAQmB,IAE9CnB,EAAMvD,OAAAmI,EAAA,EAAAnI,CAAA,GAAQuD,EAAR,CAAgBV,SAAUU,EAAOV,UAAY,KACxCA,SAAW,MAMF,SAJfU,EAAO6E,WAAaC,OAAO9E,EAAO6E,WAAaE,KAAKC,OACrDlB,YAAO,EAAGG,EAAa,IAAM,OAAS9C,EAClC,OACA,QAEJnB,EAAOvB,OAAS1C,EAAcE,QAC9B+D,EAAOV,SAAW2F,YAChBjF,EAAOV,SACLwE,YACe,EACbG,EAAa,EAAI,GACjB,GAEJ,KAEFjE,EAAO6E,UAAY,MACV7E,EAAOvB,SAAW1C,EAAcG,OACzC8D,EAAOvB,OAAS1C,EAAcG,KAC9B8D,EAAO6E,UAAY,IAAIE,KACrBA,KAAKC,OAASf,EAAa,IAAO,MAAQH,YAAO,QAQvD,OAJwB,MAApB9D,EAAOV,UAAqBU,EAAOE,aACrCF,EAAOvB,OAAS1C,EAAcC,SAC9BgE,EAAOE,WAAa,IAAI6E,MAEnB/E,IAGHkF,EAAS,GACZpH,OAAOmD,GACPkE,KACC,SAACC,EAAQC,GAAT,OACEA,EAAO/F,SAAW8F,EAAO9F,UACzB8F,EAAOlF,WAAamF,EAAOnF,YAC3B,IAGNe,EAAQqE,QAAQ,SAACtF,GACfA,EAAOD,KAAOmF,EAAOK,UAAU,SAAClH,GAAD,OAAWA,IAAU2B,IAAU,IAGhE,IAAMvB,EAASwC,EAAQuE,MAAM,SAACxF,GAAD,OAAYA,EAAOE,aAC5CzE,EAAYI,IACZoB,EAAK9B,MAAMsD,OAEfxB,EAAKgG,SAAS,CAAEhC,UAASxC,gBAEzBgG,cAAcxH,EAAKsH,gBAxGzBtH,EAAA,OAAAR,OAAAyB,EAAA,EAAAzB,CAAA6H,EAAAvH,GAAAN,OAAA0B,EAAA,EAAA1B,CAAA6H,EAAA,EAAAlG,IAAA,SAAAC,MAAA,WA6GI,IAAMlD,EAAQgC,KAAKhC,MACb+G,EAAU/E,KAAK+E,QACrB,OACEtD,EAAAC,EAAAC,cAAC2B,EAAiBgF,SAAlB,CAA2BpH,MAAO,CAAElD,QAAO+G,YACzCtD,EAAAC,EAAAC,cAAA,OAAKG,UAAU,aACbL,EAAAC,EAAAC,cAAC4G,EAAD,MACA9G,EAAAC,EAAAC,cAAC6G,EAAD,MACA/G,EAAAC,EAAAC,cAAC8G,EAAD,YApHVtB,EAAA,CAA+BtG,IAAMmB,iBCFrC0G,IAASrD,OACP5D,EAAAC,EAAAC,cAAA,OAAKgH,MAAM,OACTlH,EAAAC,EAAAC,cAAA,UAAQG,UAAU,cAChBL,EAAAC,EAAAC,cAAA,OAAKC,IAAKpC,EAAQ,IAAqBsC,UAAU,WAAWD,IAAI,SAChEJ,EAAAC,EAAAC,cAAA,MAAIG,UAAU,aAAd,qBAEFL,EAAAC,EAAAC,cAACiH,EAAD,MACAnH,EAAAC,EAAAC,cAAA,UAAQG,UAAU,cAChBL,EAAAC,EAAAC,cAAA,sCAC6B,IAC3BF,EAAAC,EAAAC,cAAA,KAAGkH,KAAK,4CAAR,SAFF,MAEkE,IAChEpH,EAAAC,EAAAC,cAAA,KAAGkH,KAAK,oCAAR,gBAINC,SAASC,eAAe,STDX,WACb,GAA6C,kBAAmBxL,UAAW,CAGzE,GADkB,IAAIyL,IAAIC,GAAwBhM,OAAOC,UAC3CgM,SAAWjM,OAAOC,SAASgM,OAIvC,OAGFjM,OAAOkM,iBAAiB,OAAQ,WAC9B,IAAM7L,EAAK,GAAAqD,OAAMsI,GAAN,sBAEPlM,GAiDV,SAAiCO,GAE/B8L,MAAM9L,GACHI,KAAK,SAAA2L,GAGkB,MAApBA,EAAS/H,SACuD,IAAhE+H,EAASC,QAAQC,IAAI,gBAAgBC,QAAQ,cAG7CjM,UAAUC,cAAciM,MAAM/L,KAAK,SAAAC,GACjCA,EAAa+L,aAAahM,KAAK,WAC7BT,OAAOC,SAASyM,aAKpBtM,EAAgBC,KAGnBc,MAAM,WACLF,QAAQC,IACN,mEArEAyL,CAAwBtM,GAIxBC,UAAUC,cAAciM,MAAM/L,KAAK,WACjCQ,QAAQC,IACN,+GAMJd,EAAgBC,MSxBxBuM","file":"static/js/main.b1355229.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dog_standing.fb1c30b6.gif\";","module.exports = __webpack_public_path__ + \"static/media/dog_running.ba5cc2b0.gif\";","module.exports = __webpack_public_path__ + \"static/media/dog_loss.23cf503e.gif\";","module.exports = __webpack_public_path__ + \"static/media/cat_standing.d0da33b9.gif\";","module.exports = __webpack_public_path__ + \"static/media/cat_running.07a918bd.gif\";","module.exports = __webpack_public_path__ + \"static/media/cat_loss.d1bfbdf7.gif\";","module.exports = __webpack_public_path__ + \"static/media/react-logo.5d5d9eef.svg\";","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const GAME_STATUS = {\n  READY: 0,\n  START: 1,\n  PAUSE: 2,\n  END: 3\n};\n\nexport const ANIMAL_TYPES = {\n  DOG: 'dog',\n  CAT: 'cat'\n};\n\nexport const ANIMAL_STATUS = {\n  STANDING: 0,\n  RUNNING: 1,\n  LOSS: 2\n};\n\nexport const GAME_SPEED = {\n  NORMAL: 300,\n  FAST: 150,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ANIMAL_TYPES, ANIMAL_STATUS } from '../constants';\nimport './Animal.css';\n\nconst ANIMAL_SPRITES = {\n  dog: {\n    [ANIMAL_STATUS.STANDING]: require('./dog_standing.gif'),\n    [ANIMAL_STATUS.RUNNING]: require('./dog_running.gif'),\n    [ANIMAL_STATUS.LOSS]: require('./dog_loss.gif')\n  },\n  cat: {\n    [ANIMAL_STATUS.STANDING]: require('./cat_standing.gif'),\n    [ANIMAL_STATUS.RUNNING]: require('./cat_running.gif'),\n    [ANIMAL_STATUS.LOSS]: require('./cat_loss.gif')\n  }\n};\n\nexport class Animal extends React.Component {\n  static propTypes = {\n    type: PropTypes.oneOf(Object.keys(ANIMAL_TYPES).map((key) => ANIMAL_TYPES[key])),\n    name: PropTypes.string,\n    color: PropTypes.string,\n    progress: PropTypes.number,\n    status: PropTypes.oneOf(Object.keys(ANIMAL_STATUS).map((key) => ANIMAL_STATUS[key])),\n    style: PropTypes.object\n  };\n\n  static defaultProps = {\n    type: ANIMAL_TYPES.DOG,\n    color: '#000000',\n    progress: 0, // 0 to 100\n    status: ANIMAL_STATUS.STANDING\n  };\n\n  imgRef = React.createRef();\n\n  render() {\n    const { type, status, style } = this.props;\n    const image = ANIMAL_SPRITES[type][status];\n    return (\n      <img\n        src={image}\n        alt={type}\n        className={`animal ${type}`}\n        style={style}\n        ref={this.imgRef}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Animal } from '../Animal';\nimport './Lane.css';\n\nexport class Lane extends React.Component {\n  static propTypes = {\n    index: PropTypes.number.isRequired,\n    animal: PropTypes.shape(Animal.propTypes).isRequired\n  };\n\n  animalRef = React.createRef();\n\n  getRankStyle() {\n    const imageElement =\n      this.animalRef.current &&\n      this.animalRef.current.imgRef &&\n      this.animalRef.current.imgRef.current;\n    if (imageElement) {\n      return { left: imageElement.offsetLeft + imageElement.clientWidth - 5 };\n    } else {\n      return { right: 10 };\n    }\n  }\n\n  formatRank(rank) {\n    if (rank === 1) {\n      rank = rank += 'st ðŸ‘‘';\n    } else if (rank === 2) {\n      rank = rank += 'nd';\n    } else {\n      rank = rank += 'rd';\n    }\n    return rank;\n  }\n\n  render() {\n    const { animal } = this.props;\n    const { rank, name, finishedAt, progress } = animal;\n    return (\n      <div className={`lane ${finishedAt ? 'finished' : ''}`}>\n        <Animal\n          {...animal}\n          style={{ marginLeft: `${progress}%` }}\n          ref={this.animalRef}\n        />\n        {name && <span className=\"meta name\" children={name} />}\n        {rank && (\n          <span\n            className=\"meta rank\"\n            style={this.getRankStyle()}\n            children={this.formatRank(rank)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport const PuppyRaceContext = React.createContext();\n","import React from 'react';\nimport { Lane } from './Lane';\nimport { PuppyRaceContext } from '../PuppyRaceContext';\n\nexport class RaceTrack extends React.Component {\n  getTransitionStyle(state) {\n    const transitionTime = state.tickInterval / 1000;\n    return (\n      <style>\n        {`.racetrack * { transition: all linear ${transitionTime}s; }`}\n      </style>\n    );\n  }\n\n  render() {\n    return (\n      <PuppyRaceContext.Consumer>\n        {({ state }) => (\n          <div className=\"racetrack\">\n            {this.getTransitionStyle(state)}\n            {state.animals.map((animal, index) => (\n              <Lane key={index} index={index} animal={animal} />\n            ))}\n          </div>\n        )}\n      </PuppyRaceContext.Consumer>\n    );\n  }\n}\n","import React from 'react';\nimport arrayMutators from 'final-form-arrays';\nimport { Form, FormSpy, Field } from 'react-final-form';\nimport { FieldArray } from 'react-final-form-arrays';\nimport { random, noop } from 'lodash-es';\nimport { PuppyRaceContext } from '../PuppyRaceContext';\nimport { ANIMAL_TYPES, ANIMAL_STATUS, GAME_STATUS } from '../constants';\nimport './Settings.css';\n\nconst LOCALSTORAGE_KEY_SETTINGS = 'settings';\nconst INITIAL_VALUES = {\n  animals: [\n    {\n      name: 'Puppy',\n      type: ANIMAL_TYPES.DOG,\n      status: ANIMAL_STATUS.STANDING,\n      progress: 0\n    },\n    {\n      name: 'Kitty',\n      type: ANIMAL_TYPES.CAT,\n      status: ANIMAL_STATUS.STANDING,\n      progress: 0\n    }\n  ]\n};\n\nexport class Settings extends React.Component {\n  state = { initialValues: this.restoreSettings() };\n\n  restoreSettings() {\n    try {\n      const stored = localStorage.getItem(LOCALSTORAGE_KEY_SETTINGS);\n      if (stored) {\n        return JSON.parse(stored);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n    return INITIAL_VALUES;\n  }\n\n  saveSettings(values) {\n    try {\n      localStorage.setItem(LOCALSTORAGE_KEY_SETTINGS, JSON.stringify(values));\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    return (\n      <PuppyRaceContext.Consumer>\n        {({ state, actions }) => (\n          <div className=\"settings\">\n            <Form\n              onSubmit={noop}\n              mutators={arrayMutators}\n              initialValues={this.state.initialValues}\n              render={({ handleSubmit, mutators, values }) => {\n                const disabled = state.status !== GAME_STATUS.READY;\n                return (\n                  <React.Fragment>\n                    <FormSpy\n                      subscription={{ values: true }}\n                      onChange={({ values }) => {\n                        this.saveSettings(values);\n                        actions.setState(values);\n                      }}\n                    />\n                    <form\n                      key=\"form\"\n                      style={{\n                        display: 'flex',\n                        flexDirection: 'column',\n                        margin: '20px'\n                      }}\n                      onSubmit={handleSubmit}\n                    >\n                      <FieldArray name=\"animals\">\n                        {({ fields }) =>\n                          fields.map((name, index) => (\n                            <div\n                              className={`ui input field left action ${\n                                disabled ? 'disabled' : ''\n                              }`}\n                              key={index}\n                            >\n                              <Field\n                                name={`${name}.type`}\n                                component=\"select\"\n                                disabled={disabled}\n                                className=\"ui compact selection dropdown\"\n                                style={{ padding: '6px' }}\n                              >\n                                <option\n                                  value={ANIMAL_TYPES.DOG}\n                                  children=\"ðŸ¶\"\n                                />\n                                <option\n                                  value={ANIMAL_TYPES.CAT}\n                                  children=\"ðŸ±\"\n                                />\n                              </Field>\n                              <Field\n                                name={`${name}.name`}\n                                component=\"input\"\n                                placeholder=\"name\"\n                                disabled={disabled}\n                              />\n                              <button\n                                onClick={() => fields.remove(index)}\n                                className=\"ui button icon\"\n                                disabled={disabled}\n                                children={<i className=\"ui icon remove\" />}\n                              />\n                            </div>\n                          ))\n                        }\n                      </FieldArray>\n                      <div className=\"ui field\">\n                        <button\n                          className=\"ui button icon fluid\"\n                          onClick={() =>\n                            mutators.push('animals', {\n                              type: [ANIMAL_TYPES.DOG, ANIMAL_TYPES.CAT][\n                                random(1)\n                              ],\n                              name: values.animals.length + 1\n                            })\n                          }\n                          disabled={disabled}\n                          children={<i className=\"ui icon add\" />}\n                        />\n                      </div>\n                    </form>\n                  </React.Fragment>\n                );\n              }}\n            />\n          </div>\n        )}\n      </PuppyRaceContext.Consumer>\n    );\n  }\n}\n","import React from 'react';\nimport { PuppyRaceContext } from '../PuppyRaceContext';\nimport { GAME_STATUS, GAME_SPEED } from '../constants';\nimport './Controls.css';\n\nexport class Controls extends React.Component {\n  render() {\n    return (\n      <PuppyRaceContext.Consumer>\n        {({ state, actions }) => {\n          const isPlaying = state.status === GAME_STATUS.START;\n          const isFastMode = state.tickInterval === GAME_SPEED.FAST;\n          return (\n            <div className=\"ui fluid controls\">\n              <button\n                className=\"ui blue button\"\n                onClick={() =>\n                  !isPlaying ? actions.startGame() : actions.pauseGame()\n                }\n                disabled={state.status === GAME_STATUS.END}\n              >\n                <i className={`ui icon ${!isPlaying ? 'play' : 'pause'}`} />\n                {!isPlaying ? 'START' : 'PAUSE'}\n              </button>\n              <button\n                className={`ui basic toggle button icon ${\n                  isFastMode ? 'active' : ''\n                }`}\n                onClick={() =>\n                  actions.setSpeed(\n                    isFastMode ? GAME_SPEED.NORMAL : GAME_SPEED.FAST\n                  )\n                }\n                disabled={state.status !== GAME_STATUS.START}\n              >\n                <i className={`ui icon fast forward`} />\n              </button>\n              <button\n                className=\"ui basic button\"\n                onClick={() => actions.resetGame()}\n                disabled={\n                  state.status === GAME_STATUS.START ||\n                  state.status === GAME_STATUS.READY\n                }\n              >\n                <i className={`ui icon refresh`} />\n                RESET\n              </button>\n            </div>\n          );\n        }}\n      </PuppyRaceContext.Consumer>\n    );\n  }\n}\n","import React from 'react';\nimport { clamp, random } from 'lodash-es';\nimport { RaceTrack } from './RaceTrack';\nimport { Settings } from './Settings';\nimport { Controls } from './Controls';\nimport { PuppyRaceContext } from './PuppyRaceContext';\nimport { GAME_STATUS, GAME_SPEED, ANIMAL_STATUS } from './constants';\n\nexport class PuppyRace extends React.Component {\n  state = {\n    animals: [],\n    status: GAME_STATUS.READY,\n    tickInterval: GAME_SPEED.NORMAL\n  };\n\n  intervalTimer = null;\n\n  actions = {\n    setState: (state, callback) => this.setState(state, callback),\n    setSpeed: (tickInterval) => {\n      if (tickInterval !== this.state.tickInterval) {\n        clearInterval(this.intervalTimer);\n        this.setState({ tickInterval }, () => {\n          this.intervalTimer = setInterval(this.onTick, tickInterval);\n        });\n      }\n    },\n    startGame: () =>\n      this.state.status !== GAME_STATUS.START &&\n      this.setState({ status: GAME_STATUS.START }, () => {\n        this.intervalTimer = setInterval(this.onTick, this.state.tickInterval);\n      }),\n    pauseGame: () => {\n      clearInterval(this.intervalTimer);\n      if (this.state.status !== GAME_STATUS.PAUSE) {\n        this.setState({ status: GAME_STATUS.PAUSE });\n      }\n    },\n    resetGame: () => {\n      clearInterval(this.intervalTimer);\n      this.setState({\n        status: GAME_STATUS.READY,\n        animals: this.state.animals.map((animal) => ({\n          ...animal,\n          status: ANIMAL_STATUS.STANDING,\n          progress: 0,\n          recoverAt: null,\n          finishedAt: null,\n          rank: null\n        }))\n      });\n    }\n  };\n\n  onTick = () => {\n    const isFastMode = this.state.tickInterval === GAME_SPEED.FAST;\n    const isPlaying = this.state.status === GAME_STATUS.START;\n    if (isPlaying) {\n      const animals = this.state.animals.map((animal, index) => {\n        // calc animal progress\n        animal = { ...animal, progress: animal.progress || 0 };\n        if (animal.progress < 100) {\n          const runOrLoss =\n            (animal.recoverAt && Number(animal.recoverAt) > Date.now()) ||\n            random(0, isFastMode ? 300 : 200) === index\n              ? 'loss'\n              : 'run';\n          if (runOrLoss === 'run') {\n            animal.status = ANIMAL_STATUS.RUNNING;\n            animal.progress = clamp(\n              animal.progress +\n                random(\n                  isFastMode ? 1 : 1, // min progress\n                  isFastMode ? 4 : 3, // max progress\n                  true\n                ),\n              100\n            );\n            animal.recoverAt = null;\n          } else if (animal.status !== ANIMAL_STATUS.LOSS) {\n            animal.status = ANIMAL_STATUS.LOSS;\n            animal.recoverAt = new Date(\n              Date.now() + (isFastMode ? 1000 : 1500) + random(1000)\n            );\n          }\n        }\n        if (animal.progress === 100 && !animal.finishedAt) {\n          animal.status = ANIMAL_STATUS.STANDING;\n          animal.finishedAt = new Date();\n        }\n        return animal;\n      });\n\n      const sorted = []\n        .concat(animals)\n        .sort(\n          (lValue, rValue) =>\n            rValue.progress - lValue.progress ||\n            lValue.finishedAt - rValue.finishedAt ||\n            0\n        );\n\n      animals.forEach((animal) => {\n        animal.rank = sorted.findIndex((value) => value === animal) + 1;\n      });\n\n      const status = animals.every((animal) => animal.finishedAt)\n        ? GAME_STATUS.END\n        : this.state.status;\n\n      this.setState({ animals, status });\n    } else {\n      clearInterval(this.intervalTimer);\n    }\n  };\n\n  render() {\n    const state = this.state;\n    const actions = this.actions;\n    return (\n      <PuppyRaceContext.Provider value={{ state, actions }}>\n        <div className=\"PuppyRace\">\n          <RaceTrack />\n          <Settings />\n          <Controls />\n        </div>\n      </PuppyRaceContext.Provider>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport registerServiceWorker from './registerServiceWorker';\nimport { PuppyRace } from './PuppyRace';\nimport './index.css';\n\nReactDOM.render(\n  <div class=\"App\">\n    <header className=\"App-header\">\n      <img src={require('./react-logo.svg')} className=\"App-logo\" alt=\"logo\" />\n      <h1 className=\"App-title\">React Puppy Race</h1>\n    </header>\n    <PuppyRace />\n    <footer className=\"App-footer\">\n      <p>\n        Dog and cat image are from{' '}\n        <a href=\"https://dribbble.com/shots/2157574-BFF-s\">BFF's</a> by{' '}\n        <a href=\"https://dribbble.com/madebyradio\">R A D I O</a>\n      </p>\n    </footer>\n  </div>,\n  document.getElementById('root')\n);\n\nregisterServiceWorker();\n"],"sourceRoot":""}